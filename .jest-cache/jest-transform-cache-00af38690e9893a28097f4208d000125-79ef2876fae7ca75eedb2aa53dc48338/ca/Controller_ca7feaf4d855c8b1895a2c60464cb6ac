118bd01aedab9ae0363696126adba7c2
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class Controller {
    response(res, data, code = 200, message = 'Operation Successful') {
        const response = {
            data,
            error: {},
            success: true,
            message,
        };
        res.status(code).json(response);
    }
    error(res, error, code = 500) {
        const response = {
            data: {},
            error: {
                message: error.message,
                code: error.code || code,
            },
            success: false,
            message: error.message || 'Internal Server Error',
        };
        res.status(code).json(response);
    }
    async handleAsync(req, res, handler) {
        try {
            await handler(req, res);
        }
        catch (error) {
            const err = error;
            this.error(res, err, err.status || 500);
        }
    }
}
exports.default = Controller;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiRTpcXEZyZWVsYW5jZXJcXG5vZGVqcy1hcGktd3JhcHBlclxcc3JjXFxjb250cm9sbGVyc1xcQ29udHJvbGxlci50cyIsIm1hcHBpbmdzIjoiOztBQU9BLE1BQU0sVUFBVTtJQUNkLFFBQVEsQ0FDTixHQUFvQixFQUNwQixJQUE2QixFQUM3QixPQUFlLEdBQUcsRUFDbEIsVUFBa0Isc0JBQXNCO1FBRXhDLE1BQU0sUUFBUSxHQUFnQjtZQUM1QixJQUFJO1lBQ0osS0FBSyxFQUFFLEVBQUU7WUFDVCxPQUFPLEVBQUUsSUFBSTtZQUNiLE9BQU87U0FDUixDQUFDO1FBQ0YsR0FBRyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBOEMsQ0FBQyxDQUFDO0lBQ3hFLENBQUM7SUFFRCxLQUFLLENBQ0gsR0FBb0IsRUFDcEIsS0FBc0IsRUFDdEIsT0FBZSxHQUFHO1FBRWxCLE1BQU0sUUFBUSxHQUFnQjtZQUM1QixJQUFJLEVBQUUsRUFBRTtZQUNSLEtBQUssRUFBRTtnQkFDTCxPQUFPLEVBQUUsS0FBSyxDQUFDLE9BQU87Z0JBQ3RCLElBQUksRUFBRSxLQUFLLENBQUMsSUFBSSxJQUFJLElBQUk7YUFDekI7WUFDRCxPQUFPLEVBQUUsS0FBSztZQUNkLE9BQU8sRUFBRSxLQUFLLENBQUMsT0FBTyxJQUFJLHVCQUF1QjtTQUNsRCxDQUFDO1FBQ0YsR0FBRyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBOEMsQ0FBQyxDQUFDO0lBQ3hFLENBQUM7SUFFRCxLQUFLLENBQUMsV0FBVyxDQUNmLEdBQW1CLEVBQ25CLEdBQW9CLEVBQ3BCLE9BQXFFO1FBRXJFLElBQUksQ0FBQztZQUNILE1BQU0sT0FBTyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztRQUMxQixDQUFDO1FBQUMsT0FBTyxLQUFLLEVBQUUsQ0FBQztZQUNmLE1BQU0sR0FBRyxHQUFHLEtBQXdCLENBQUM7WUFDckMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxNQUFNLElBQUksR0FBRyxDQUFDLENBQUM7UUFDMUMsQ0FBQztJQUNILENBQUM7Q0FDRjtBQUVELGtCQUFlLFVBQVUsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyJFOlxcRnJlZWxhbmNlclxcbm9kZWpzLWFwaS13cmFwcGVyXFxzcmNcXGNvbnRyb2xsZXJzXFxDb250cm9sbGVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEV4cHJlc3NSZXF1ZXN0LFxuICBFeHByZXNzUmVzcG9uc2UsXG4gIEFwaVJlc3BvbnNlLFxuICBFeGNlcHRpb25Db25maWcsXG59IGZyb20gJy4uL3R5cGVzJztcblxuY2xhc3MgQ29udHJvbGxlciB7XG4gIHJlc3BvbnNlKFxuICAgIHJlczogRXhwcmVzc1Jlc3BvbnNlLFxuICAgIGRhdGE6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgIGNvZGU6IG51bWJlciA9IDIwMCxcbiAgICBtZXNzYWdlOiBzdHJpbmcgPSAnT3BlcmF0aW9uIFN1Y2Nlc3NmdWwnXG4gICk6IHZvaWQge1xuICAgIGNvbnN0IHJlc3BvbnNlOiBBcGlSZXNwb25zZSA9IHtcbiAgICAgIGRhdGEsXG4gICAgICBlcnJvcjoge30sXG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgbWVzc2FnZSxcbiAgICB9O1xuICAgIHJlcy5zdGF0dXMoY29kZSkuanNvbihyZXNwb25zZSBhcyB1bmtub3duIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+KTtcbiAgfVxuXG4gIGVycm9yKFxuICAgIHJlczogRXhwcmVzc1Jlc3BvbnNlLFxuICAgIGVycm9yOiBFeGNlcHRpb25Db25maWcsXG4gICAgY29kZTogbnVtYmVyID0gNTAwXG4gICk6IHZvaWQge1xuICAgIGNvbnN0IHJlc3BvbnNlOiBBcGlSZXNwb25zZSA9IHtcbiAgICAgIGRhdGE6IHt9LFxuICAgICAgZXJyb3I6IHtcbiAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgY29kZTogZXJyb3IuY29kZSB8fCBjb2RlLFxuICAgICAgfSxcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB8fCAnSW50ZXJuYWwgU2VydmVyIEVycm9yJyxcbiAgICB9O1xuICAgIHJlcy5zdGF0dXMoY29kZSkuanNvbihyZXNwb25zZSBhcyB1bmtub3duIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+KTtcbiAgfVxuXG4gIGFzeW5jIGhhbmRsZUFzeW5jKFxuICAgIHJlcTogRXhwcmVzc1JlcXVlc3QsXG4gICAgcmVzOiBFeHByZXNzUmVzcG9uc2UsXG4gICAgaGFuZGxlcjogKHJlcTogRXhwcmVzc1JlcXVlc3QsIHJlczogRXhwcmVzc1Jlc3BvbnNlKSA9PiBQcm9taXNlPHZvaWQ+XG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBoYW5kbGVyKHJlcSwgcmVzKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc3QgZXJyID0gZXJyb3IgYXMgRXhjZXB0aW9uQ29uZmlnO1xuICAgICAgdGhpcy5lcnJvcihyZXMsIGVyciwgZXJyLnN0YXR1cyB8fCA1MDApO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDb250cm9sbGVyO1xuIl0sInZlcnNpb24iOjN9