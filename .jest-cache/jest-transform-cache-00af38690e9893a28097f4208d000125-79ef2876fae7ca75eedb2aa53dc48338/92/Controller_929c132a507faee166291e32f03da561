4713fdc1a2f0b1343c6fe9d2e24c2b28
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class Controller {
    response(res, data, code = 200, message = 'Operation Successful') {
        const response = {
            data,
            error: {},
            success: true,
            message,
        };
        res.status(code).json(response);
    }
    error(res, error, code = 500) {
        const response = {
            data: {},
            error: {
                message: error.message,
                code: error.code || code,
            },
            success: false,
            message: error.message || 'Internal Server Error',
        };
        res.status(code).json(response);
    }
    async handleAsync(req, res, handler) {
        try {
            await handler(req, res);
        }
        catch (error) {
            const err = error;
            this.error(res, err, err.status || 500);
        }
    }
}
exports.default = Controller;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiRTpcXEZyZWVsYW5jZXJcXG5vZGVqcy1hcGktd3JhcHBlclxcc3JjXFxjb250cm9sbGVyc1xcQ29udHJvbGxlci50cyIsIm1hcHBpbmdzIjoiOztBQU9BLE1BQU0sVUFBVTtJQUNkLFFBQVEsQ0FDTixHQUFvQixFQUNwQixJQUFTLEVBQ1QsT0FBZSxHQUFHLEVBQ2xCLFVBQWtCLHNCQUFzQjtRQUV4QyxNQUFNLFFBQVEsR0FBZ0I7WUFDNUIsSUFBSTtZQUNKLEtBQUssRUFBRSxFQUFFO1lBQ1QsT0FBTyxFQUFFLElBQUk7WUFDYixPQUFPO1NBQ1IsQ0FBQztRQUNGLEdBQUcsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ2xDLENBQUM7SUFFRCxLQUFLLENBQ0gsR0FBb0IsRUFDcEIsS0FBc0IsRUFDdEIsT0FBZSxHQUFHO1FBRWxCLE1BQU0sUUFBUSxHQUFnQjtZQUM1QixJQUFJLEVBQUUsRUFBRTtZQUNSLEtBQUssRUFBRTtnQkFDTCxPQUFPLEVBQUUsS0FBSyxDQUFDLE9BQU87Z0JBQ3RCLElBQUksRUFBRSxLQUFLLENBQUMsSUFBSSxJQUFJLElBQUk7YUFDekI7WUFDRCxPQUFPLEVBQUUsS0FBSztZQUNkLE9BQU8sRUFBRSxLQUFLLENBQUMsT0FBTyxJQUFJLHVCQUF1QjtTQUNsRCxDQUFDO1FBQ0YsR0FBRyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDbEMsQ0FBQztJQUVELEtBQUssQ0FBQyxXQUFXLENBQ2YsR0FBbUIsRUFDbkIsR0FBb0IsRUFDcEIsT0FBcUU7UUFFckUsSUFBSSxDQUFDO1lBQ0gsTUFBTSxPQUFPLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQzFCLENBQUM7UUFBQyxPQUFPLEtBQUssRUFBRSxDQUFDO1lBQ2YsTUFBTSxHQUFHLEdBQUcsS0FBd0IsQ0FBQztZQUNyQyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLE1BQU0sSUFBSSxHQUFHLENBQUMsQ0FBQztRQUMxQyxDQUFDO0lBQ0gsQ0FBQztDQUNGO0FBRUQsa0JBQWUsVUFBVSxDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIkU6XFxGcmVlbGFuY2VyXFxub2RlanMtYXBpLXdyYXBwZXJcXHNyY1xcY29udHJvbGxlcnNcXENvbnRyb2xsZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgRXhwcmVzc1JlcXVlc3QsXG4gIEV4cHJlc3NSZXNwb25zZSxcbiAgQXBpUmVzcG9uc2UsXG4gIENvbnRyb2xsZXJFcnJvcixcbn0gZnJvbSAnLi4vdHlwZXMnO1xuXG5jbGFzcyBDb250cm9sbGVyIHtcbiAgcmVzcG9uc2UoXG4gICAgcmVzOiBFeHByZXNzUmVzcG9uc2UsXG4gICAgZGF0YTogYW55LFxuICAgIGNvZGU6IG51bWJlciA9IDIwMCxcbiAgICBtZXNzYWdlOiBzdHJpbmcgPSAnT3BlcmF0aW9uIFN1Y2Nlc3NmdWwnXG4gICk6IHZvaWQge1xuICAgIGNvbnN0IHJlc3BvbnNlOiBBcGlSZXNwb25zZSA9IHtcbiAgICAgIGRhdGEsXG4gICAgICBlcnJvcjoge30sXG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgbWVzc2FnZSxcbiAgICB9O1xuICAgIHJlcy5zdGF0dXMoY29kZSkuanNvbihyZXNwb25zZSk7XG4gIH1cblxuICBlcnJvcihcbiAgICByZXM6IEV4cHJlc3NSZXNwb25zZSxcbiAgICBlcnJvcjogQ29udHJvbGxlckVycm9yLFxuICAgIGNvZGU6IG51bWJlciA9IDUwMFxuICApOiB2b2lkIHtcbiAgICBjb25zdCByZXNwb25zZTogQXBpUmVzcG9uc2UgPSB7XG4gICAgICBkYXRhOiB7fSxcbiAgICAgIGVycm9yOiB7XG4gICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgIGNvZGU6IGVycm9yLmNvZGUgfHwgY29kZSxcbiAgICAgIH0sXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgfHwgJ0ludGVybmFsIFNlcnZlciBFcnJvcicsXG4gICAgfTtcbiAgICByZXMuc3RhdHVzKGNvZGUpLmpzb24ocmVzcG9uc2UpO1xuICB9XG5cbiAgYXN5bmMgaGFuZGxlQXN5bmMoXG4gICAgcmVxOiBFeHByZXNzUmVxdWVzdCxcbiAgICByZXM6IEV4cHJlc3NSZXNwb25zZSxcbiAgICBoYW5kbGVyOiAocmVxOiBFeHByZXNzUmVxdWVzdCwgcmVzOiBFeHByZXNzUmVzcG9uc2UpID0+IFByb21pc2U8dm9pZD5cbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGhhbmRsZXIocmVxLCByZXMpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zdCBlcnIgPSBlcnJvciBhcyBDb250cm9sbGVyRXJyb3I7XG4gICAgICB0aGlzLmVycm9yKHJlcywgZXJyLCBlcnIuc3RhdHVzIHx8IDUwMCk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbnRyb2xsZXI7XG4iXSwidmVyc2lvbiI6M30=